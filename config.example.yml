# general settings
settings:

  # If this URL is provided, events notifications will be sent to the that URL.
  # You can perform actions based on the received notifications.
  # Please refer to the README.md for available events.
  # https (SSL/TLS) is required
  webhook_url: https://google.com/sample-url
  
  # The signing key for JWT token. Keep this value secure and confidential.
  jwt_secret: p@ssWord0
  # JWT token will expire after {this value} seconds.
  access_token_expire_sec: 3600

  # A new encryption key generated by VASP to encrypt service credentials in the database, should be a 32 or 64-character long HEX string
  # Please double check if you entered an invalid HEX string for your "data_encryption_key" (e.g., entering ghijk...).
  # can NOT be set with the “private key” (generated by VASP during Sygna Hub account registration)
  data_encryption_key: 000000000000000000000000000abcde
  # license key = Sygna Hub API key = "Your API Key" (retrieved when Sygna Hub account registration is completed)
  license_key: 0000000000000000000000000000000000000000000000000000000000000000
  vasp_code: VASPUSNY1

  # email address and password for first user in hub server
  # you can use this account to login
  admin_account: admin@<your domain>.com
  # Password should contain at least 6 letters, at least 1 number, at least 1 upper case and at least 1 special character
  # special character: ~!@#$%^&*()_+`-={}|[]\\:\"<>?,./
  admin_password: p@ssWord0
  # limit maximum concurrent requests processed by backend, more requests will be
  # please use positive value to enable, or disable with 0 or negative value
  concurrency: 100

db:
  # database configuration 
  # supported options: postgres | mysql
  driver: postgres
  user: admin
  password: p@ssWord0
  host: localhost
  # default port 
  # postgres: 5432
  # mysql: 3306
  port: 5432
  name: db

server:
  host: 0.0.0.0
  port: 8080
  # old log will automatically compressed if this option set to true
  enable_rotate_log: true
  # allow web front-end hosted in different domain to connect to hub
  enable_cors: true
  # The "allow_origins" setting requires "enable_cors" to be true and specifies a list of allowed origins for connecting to the Sygna Hub backend.
  allow_origins:
  # https (SSL/TLS) is required
    - http://localhost:8000

  # This URL endpoint is used by the Sygna (Bridge) server to send a "permission request" to you.
  # Upon bringing up the Sygna Hub docker, the "callback_host" will be applied to the four callback endpoint URLs of the VASP on the Sygna server: callback_permission_request_url, callback_txid_url, callback_validate_addr_url, and callback_vasp_server_health_check_url.
  # If the "callback_host" is updated, the VASP needs to restart the docker for the host on the Sygna (Bridge) server to be refreshed automatically (estimated from version 1.21.0).
  # https (SSL/TLS) is required
  callback_host: <your callback host url>
  
  # url of your primary domain, used in set-cookie, is not required since 1.17.0 (1.17.0-beta.1) and will be deprecated at 2023.2.1
  # https (SSL/TLS) is required
  cookie_domain: <your primary domain>

google_login:
  # required only if you want to enable Google login
  # please refer to: https://developers.google.com/identity/protocols/oauth2
  id: ""
  secret: ""

log_file:
  # path for log file, you can set this value to relative or absolute path
  file_name: temp
  # max size for single log file, size in Megabytes
  # if you set to zero, default value is 100 MB
  max_size: 100
  # max log files to keep
  # default value is 30, if you set to zero, will never delete old logs
  max_backups: 30
  # how many days should we keep log files
  # default value is 30 days, if you set to zero, will never delete old logs
  max_age: 30

email_service:
  # hostname and port of your email service
  # https (SSL/TLS) is required
  host: <your smtp url>:<port>
  
  # Please enter your email service account credentials (e.g., AWS IAM user name and password)
  account: noreply@<your domain>.com # or <IAM user name>
  password: p@ssWord0
  
  # The name of the sender, which would be useless once you enable TLS.
  display_name: Hub Sender
  # prefix of subject
  subject_prefix: "[TEST]"
  
  from_email: <the email address of your sender>
  # Please enable the following attributes if you want to support TLS.
  # "tls_support" will be deprecated in the May 2023 release
  # "encryption_mode" will override the value of "tls_support"
  # Supported options for "encryption_mode": "NONE" | "SSL/TLS" | "STARTTLS"
  encryption_mode: "NONE"

frontend:
  # url of hub frontend, used in email protocol
  # https (SSL/TLS) is required
  url: <your frontend url>

trisa_server:
  # url for TRISA gateway server, this option can be removed if you are not using TRISA
  # for example, if you are using docker-compose to setup services
  # this value should be http://trisa:8081
  url: "http://trisa:80"
  # port and host to receive grpc message from TRISA network, default is port 443
  host: 0.0.0.0
  port: 443
  # hub server send request to trisa gateway with restful api request
  # this option change restful server listen port
  # if you change this port, url above should match
  # for example: (restful_port: 8888) -> (url: "http://localhost:8888")
  restful_port: 80

shyft_server:
  # json rpc url of shyft relay node
  # if you're using docker-compose to setup shyft relay node, this value should not be changed
  # if you are using external provider, please make sure you are using websocket endpoint
  # http endpoint will not work properly
  rpc_url: "ws://shyft-realy:8545"
